{
  "timestamp": "2026-02-20T10:18:04.005975",
  "total_tests": 22,
  "passed_tests": 21,
  "success_rate": 95.45,
  "detailed_results": [
    {
      "test": "GET /api/prizes (new structure)",
      "success": true,
      "response": "Found 8 prizes with correct fields",
      "error": null
    },
    {
      "test": "Get history",
      "success": true,
      "response": "Retrieved 9 history items",
      "error": null
    },
    {
      "test": "Admin login (wrong credentials)",
      "success": true,
      "response": "Correctly returned 401",
      "error": null
    },
    {
      "test": "Master admin login",
      "success": true,
      "response": "Master token received with correct role",
      "error": null
    },
    {
      "test": "Sub-admin login",
      "success": true,
      "response": "Sub-admin token received with correct role",
      "error": null
    },
    {
      "test": "Create admin (master)",
      "success": true,
      "response": "Admin already exists - that's fine",
      "error": null
    },
    {
      "test": "List admins",
      "success": true,
      "response": "Found 2 admins including master",
      "error": null
    },
    {
      "test": "Sub-admin login",
      "success": true,
      "response": "Sub-admin token received with correct role",
      "error": null
    },
    {
      "test": "Create admin (sub-admin forbidden)",
      "success": true,
      "response": "Correctly forbidden for sub-admin",
      "error": null
    },
    {
      "test": "Delete admin",
      "success": true,
      "response": "Admin deleted successfully",
      "error": null
    },
    {
      "test": "Generate codes (exact usernames)",
      "success": true,
      "response": "Generated 1 codes with exact usernames",
      "error": null
    },
    {
      "test": "Get all codes",
      "success": true,
      "response": "Retrieved 20 total codes",
      "error": null
    },
    {
      "test": "Get used codes",
      "success": true,
      "response": "Retrieved 9 used codes",
      "error": null
    },
    {
      "test": "Get unused codes",
      "success": true,
      "response": "Retrieved 11 unused codes",
      "error": null
    },
    {
      "test": "Spin returns no points",
      "success": true,
      "response": "Won: Dragon Gem (no points field)",
      "error": null
    },
    {
      "test": "Get all codes",
      "success": true,
      "response": "Retrieved 20 total codes",
      "error": null
    },
    {
      "test": "Get used codes",
      "success": true,
      "response": "Retrieved 10 used codes",
      "error": null
    },
    {
      "test": "Get unused codes",
      "success": true,
      "response": "Retrieved 10 unused codes",
      "error": null
    },
    {
      "test": "Spin with used code",
      "success": false,
      "response": null,
      "error": "Expected 400, got 200"
    },
    {
      "test": "Spin with invalid credentials",
      "success": true,
      "response": "Correctly rejected invalid credentials",
      "error": null
    },
    {
      "test": "Update prizes (new structure)",
      "success": true,
      "response": "Prize pool updated with new structure",
      "error": null
    },
    {
      "test": "Get stats",
      "success": true,
      "response": "Retrieved stats with all required fields",
      "error": null
    }
  ]
}